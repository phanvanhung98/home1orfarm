var EasyDialogBox=function(){"use strict";var e="dlg|dlg-close|dlg-prompt|dlg-yes|dlg-no|dlg-yes-no|dlg-ok|dlg-cancel|dlg-ok-cancel|dlg-toast|dlg-disable-heading|dlg-disable-footer|dlg-disable-btns|dlg-disable-overlay|dlg-disable-drag|dlg-disable-esc|dlg-disable-clickout|dlg-nomodal|dlg-multi|dlg-fade|dlg-resize|dlg-info|dlg-question|dlg-error|dlg-success|dlg-exclamation|dlg-rounded|dlg-shadow|dlg-disable-mobile".split("|"),t=[],n=0,i=!1,l=function(){return document.querySelector("body")},o=function(){return document.querySelector("html")},d=function(e){var t=parseInt(e,10);return isFinite(t)||(t=0),t},s=function(e){return e.replace(/^\s+|\s+$/g,"")};Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,n=Number(arguments[1])||0;for((n=n<0?Math.ceil(n):Math.floor(n))<0&&(n+=t);n<t;n++)if(n in this&&this[n]===e)return n;return-1});var r=function(e,t,n,i){if(void 0!==e.addEventListener)e.addEventListener(t,n,i);else if(void 0!==e.attachEvent){var l=t+n;e["e"+l]=n,e[l]=function(t){t=t||window.event;try{e["e"+l](t)}catch(e){}},e.attachEvent("on"+t,e[l])}else if("function"==typeof e[t="on"+t]){var o=e[t];e[t]=function(){return o(),n()}}else e[t]=n},a=function(e,t,n,i){if(void 0!==e.removeEventListener)e.removeEventListener(t,n,i);else if(void 0!==e.detachEvent){var l=t+n;e.detachEvent("on"+t,e[l]),e["e"+l]=null,e[l]=null}else e["on"+t]=null},c=function(e){var t=e.target||e.srcElement;return 3===t.nodeType&&(t=t.parentNode),t},u=function(e){void 0!==e.preventDefault&&e.preventDefault(),void 0!==e.returnValue&&(e.returnValue=!1)},g=function(){return window.innerWidth||document.documentElement.clientWidth||l().clientWidth},h=function(){return window.innerHeight||document.documentElement.clientHeight||l().clientHeight},p=function(e,t){return("undefined"!=typeof getComputedStyle?getComputedStyle(e,null):e.currentStyle)[t]},m=function(e,t){var n=RegExp("(^|\\s)"+t+"(\\s|$)");return null!==e&&n.test(e.className)},f=function(e,t){m(e,t)||(""===e.className?e.className=t:e.className+=" "+t)},b=function(e,t){if(m(e,t)){var n=RegExp("(^|\\s)"+t+"(\\s|$)"),i=e.className.replace(n," ");e.className=i.replace(/^\s+|\s+$/g,"")}},v=function(e){for(var n=0;n<t.length;n++)if(t[n].id===e)return t[n];return null},y=function(e){var t=document.getElementById(e),n=v(t.id.split("_1")[0]);t&&(d(t.offsetHeight+n.customPosY)>=h()?(t.style.top="0",t.style.marginTop="0",t.style.marginBottom="0",t.style.borderTopWidth="0",t.style.borderBottomWidth="0",n.customPosY=0,(m(t.parentNode,"dlg-multi")||m(t.parentNode,"dlg-disable-overlay")||m(t.parentNode,"dlg-nomodal"))&&(C(),t.parentNode.style.overflow="auto",window.PointerEvent&&(t.parentNode.style.pointerEvents="auto"))):(n.customPosY?t.style.top=n.customPosY+"px":t.style.top=h()/2-t.offsetHeight/2+"px",n.customHeight&&(t.style.height=n.customHeight+"px"),t.style.borderTopWidth="",t.style.borderBottomWidth="",m(t.parentNode,"dlg-multi")||m(t.parentNode,"dlg-disable-overlay")||m(t.parentNode,"dlg-nomodal")?(E(),t.parentNode.style.overflow="hidden"):C()),d(t.offsetWidth+n.customPosX+30)>=g()?(t.style.left="0",t.style.marginLeft="0",t.style.marginRight="0",t.style.borderLeftWidth="0",t.style.borderRightWidth="0",n.customPosX=0):(n.customPosX?t.style.left=n.customPosX+"px":t.style.left=g()/2-t.offsetWidth/2+"px",n.customWidth&&(t.style.maxWidth=n.customWidth+"px"),t.style.borderLeftWidth="",t.style.borderRightWidth=""))},x=function(e,t){var n=document.getElementById(e+"_1");if(!t)return n;if(-1!==(t=s(t)).indexOf("#")&&null===t.match(/[\s+>,+:\[]/g))return n.querySelector(t);if(n){var i=n.querySelectorAll(t);if(i.length)return i}return null},w=function(e){for(var n=d(p(e,"zIndex")),i=0;i<t.length;i++)n<=d(p(x(t[i].id).parentNode,"zIndex"))&&x(t[i].id).parentNode!==e&&(n=d(p(x(t[i].id).parentNode,"zIndex"))+1);return d(n)},C=function(){if(!m(o(),"dlg-stop-scrolling")){n=p(o(),"paddingRight"),n=d(n);var e=o().offsetWidth;f(o(),"dlg-stop-scrolling");o().offsetWidth;"number"==typeof n&&n>0&&d(n)}},E=function(e,i){if(e&&i&&(m(e,"dlg-multi")||m(e,"dlg-disable-overlay")||m(e,"dlg-nomodal"))){for(var l=0,s=0;s<t.length;s++)t[s].bVisible&&t[s].id!==i.id&&l++;if(0!==l)return!1}return m(o(),"dlg-stop-scrolling")&&(b(o(),"dlg-stop-scrolling"),o().setAttribute("style","padding-right:"+d(n)+"px;")),!0},A=function(e,t){return m(o(),"dlg-hide-mobile")&&b(o(),"dlg-hide-mobile"),!0},T=function(e,t,n,i){l=t?10:0;var l,o=setInterval((function(){t?l--:l++,e.style.opacity=l/10,(t&&l<=0||!t&&l>=10)&&(clearInterval(o),"function"==typeof n&&n())}),i||30)},k=function(e,t){var n=d(t.h);if(!m(e,"dlg-disable-heading")){var i=x(t.id,"#"+t.id+" .dlg-heading");i&&(n-=d(p(i=i[0],"height"))+d(p(i,"paddingTop"))+d(p(i,"paddingBottom"))+d(p(i,"borderTopWidth"))+d(p(i,"borderBottomWidth")))}if(!m(e,"dlg-disable-footer")){var l=x(t.id,"#"+t.id+" .dlg-footer");l&&(n-=d(p(l=l[0],"height"))+d(p(l,"paddingTop"))+d(p(l,"paddingBottom"))+d(p(l,"borderTopWidth"))+d(p(l,"borderBottomWidth")))}var o=x(t.id,".dlg-message");o&&(n-=d(p(o=o[0],"borderTopWidth"))+d(p(o,"paddingTop"))+d(p(o,"paddingBottom"))+d(p(o,"borderBottomWidth")),o.style.height=d(n)+"px",o.style.maxHeight=d(n)+"px")},N=function(e){if(i)return!1;var t=v(e);if(null!==t){var n=document.getElementById(t.id);m(n,"dlg-disable-overlay")||m(n,"dlg-nomodal")||m(n,"dlg-multi")||(C(),i=!0),m(n,"dlg-disable-drag")||B.init(t.id+"_1"),m(n,"dlg-disable-mobile")&&(m(o(),"dlg-hide-mobile")||f(o(),"dlg-hide-mobile")),n.classList.add("dialog-open"),n.style.zIndex=d(w(n)),t.bFade&&(n.style.opacity=0,T(n));var l=document.getElementById(t.id+"_1");return("number"==typeof t.x||"string"==typeof t.x)&&(l.style.left=d(t.x)+"px",t.customPosX=d(t.x)),("number"==typeof t.y||"string"==typeof t.y)&&(l.style.top=d(t.y)+"px",t.customPosY=d(t.y)),t.w&&(l.style.maxWidth=d(t.w)+"px",t.customWidth=d(t.w)),t.h&&(t.customHeight=d(t.h)),t.customHeight&&k(t.el,t),l.style.visibility="visible",t.bVisible=!0,t.onShow(),y(t.id+"_1"),t}return!1},W=function(e,t){var n=document.getElementById(e),l=document.getElementById(e+"_1");n.classList.add("dialog-remove-loadding");var o=v(e);return o.x&&o.xPos(o.x),o.y&&o.yPos(o.y),o.w&&o.width(o.w),o.h&&o.height(o.h),n&&l&&(!0===t||o.bFade?!0!==t&&o.bFade?T(n,!0,(function(){l.style.visibility="hidden",o.bVisible=!1,o.onHide()})):(!0!==t||o.bFade,l.style.visibility="hidden",o.bVisible=!1):(l.style.visibility="hidden",o.bVisible=!1,o.onHide())),E(n,o),A(),m(n,"dlg-disable-overlay")||m(n,"dlg-nomodal")||(i=!1),o},H=function(e){var n=!1,l=v(e),o=document.getElementById(e);if(o){E(o,l),A(),m(o,"dlg-disable-overlay")||m(o,"dlg-nomodal")||(i=!1),l.onDestroy();var d=o.querySelectorAll(".dlg-input-field");d.length>0&&(d[0].onkeyup=null,d[0].onchange=null),setTimeout((function(){o.parentNode.removeChild(o)}),400),l.bExistInDOM=!1,l.bVisible=!1;var s=t.indexOf(l);s>-1?setTimeout((function(){n=1===t.splice(s,1).length}),10):n=!1}return n},I=function(n,i,o,a,u,p,C,E,A){var T=v(n+"_0");if(T)return T;i=s(i=i.replace(/\s+/g," "));var I=function(e,t,n,i){var l=t;!0===n&&(void 0===i&&(i=" "),l=t.split(i));for(var o=0,d=0;d<l.length;d++)for(var s=0;s<e.length;s++)e[s]===l[d]&&o++;return l.length===o}(e,i,!0);if(!0===I){(""===n||null==n||0===n)&&(n="a",n+=Math.random().toString(36).substr(2,9)),void 0===u&&(u=!1);var L={id:n+="_0",strTypeClass:i,strTitle:o,strMessage:a,x:p,y:C,w:E,h:A,strInput:"",nRetCode:-1,bVisible:!1,bExistInDOM:!1,bFade:!1,bResize:!1,nTimeId:null,el:null,customPosX:null,customPosY:null,customWidth:null,customHeight:null,callback:function(e,t){try{if(void 0===e&&(e=this.nRetCode),void 0===t&&(t=this.strInput),"function"==typeof window[u])window[u](e,t);else if("function"==typeof u)u(e,t);else if(!1===u||0===u||null===u)return!1}catch(e){}},show:function(e){if(0===e||"number"!=typeof e)return N(this.id);var t=this;t.nTimeId=setTimeout((function(){return N(t.id)}),e)},hide:function(e,t){if(0===e||"number"!=typeof e)return W(this.id,t);var n=this;n.nTimeId=setTimeout((function(){return W(n.id,t)}),e)},destroy:function(){return H(this.id)},onCreate:function(){},onShow:function(){},onHide:function(){},onClose:function(){},onDestroy:function(){},$:function(e){return x(this.id,e)},colorBorder:function(e){return x(this.id).style.borderColor=e,this},colorHeading:function(e){return x(this.id,"#"+this.id+"_1_heading").style.backgroundColor=e,this},color:function(e){return x(this.id,"#"+this.id+"_1_heading")&&(x(this.id,"#"+this.id+"_1_heading").style.backgroundColor=e),x(this.id).style.borderColor=e,this},width:function(e){return this.w=this.customWidth=d(e),x(this.id).style.maxWidth=this.w+"px",this},height:function(e){var t=x(this.id);return this.h=this.customHeight=d(e),x(this.id).style.height=this.h+"px",x(this.id).style.maxHeight=this.h+"px",k(t.parentNode,this),this},xPos:function(e){return this.x=this.customPosX=d(e),x(this.id).style.left=this.x+"px",this},yPos:function(e){return this.y=this.customPosY=d(e),x(this.id).style.top=this.y+"px",this},center:function(){var e=x(this.id);return e.style.left=g()/2-e.offsetWidth/2+"px",e.style.top=h()/2-e.offsetHeight/2+"px",this},addButton:function(e,t,n){return function(e,t,n,i){var l=x(e,".dlg-footer");if(l){var o=document.createElement("button"),d=document.createTextNode(t);return o.appendChild(d),(l=l[0]).getElementsByTagName("button")[i]?l.insertBefore(o,l.getElementsByTagName("button")[i]):l.appendChild(o),r(o,"click",n),o}return null}(this.id,e,t,n)}};t.push(L),null===(L=v(n))&&(L=v(n+="_0"));var _=document.createElement("div");if(_.setAttribute("id",L.id),_.setAttribute("class",L.strTypeClass),l().appendChild(_),m(_,"dlg-toast")&&(b(_,"dlg-toast"),f(_,"dlg dlg-disable-heading dlg-disable-footer dlg-disable-drag dlg-disable-overlay")),m(_,"dlg-fade")&&(L.bFade=!0),_){var Y=document.createElement("div");if(Y.setAttribute("id",L.id+"_1"),Y.setAttribute("class","dlg-box"),_.appendChild(Y),m(_,"dlg-rounded")&&(f(Y,"dlg-rounded"),b(_,"dlg-rounded")),m(_,"dlg-shadow")&&(f(Y,"dlg-shadow"),b(_,"dlg-shadow")),m(_,"dlg-disable-heading")){(X=document.createElement("span")).setAttribute("class","dlg-close-x icon-x"),X.innerHTML="&#215;",Y.appendChild(X)}else{var X,M=document.createElement("div");M.setAttribute("id",L.id+"_1_heading"),M.setAttribute("class","dlg-heading"),Y.appendChild(M),(X=document.createElement("span")).setAttribute("class","dlg-close-x icon-x"),X.innerHTML="&#215;",M.appendChild(X);let e=document.createElement("h3");var S=document.createTextNode(L.strTitle);e.setAttribute("class","popup-title"),e.appendChild(S),M.appendChild(e)}var q=document.createElement("div"),R=null,V=null;if(m(_,"dlg-info")||m(_,"dlg-question")||m(_,"dlg-error")||m(_,"dlg-success")||m(_,"dlg-exclamation")?(q.setAttribute("class","dlg-message dlg-flex-container"),(R=document.createElement("div")).setAttribute("class","dlg-flexbox-left"),m(_,"dlg-info")?R.innerHTML='<div class="dlg-symbol dlg-icon-info"></div>':m(_,"dlg-question")?R.innerHTML='<div class="dlg-symbol dlg-icon-question"></div>':m(_,"dlg-error")?R.innerHTML='<div class="dlg-symbol dlg-icon-error"></div>':m(_,"dlg-success")?R.innerHTML='<div class="dlg-symbol dlg-icon-success"></div>':m(_,"dlg-exclamation")&&(R.innerHTML='<div class="dlg-symbol dlg-icon-excl"></div>'),q.appendChild(R),(V=document.createElement("div")).setAttribute("class","dlg-flexbox-right"),V.innerHTML=L.strMessage,q.appendChild(V)):(q.setAttribute("class","dlg-message"),q.innerHTML=L.strMessage),Y.appendChild(q),m(_,"dlg-prompt")){var z=document.createElement("div");z.setAttribute("class","dlg-input"),m(q,"dlg-flex-container")?V.appendChild(z):q.appendChild(z);var D=document.createElement("input");D.setAttribute("class","dlg-input-field"),D.setAttribute("type","text"),D.setAttribute("value",L.strInput),z.appendChild(D),m(_,"dlg-ok-cancel")||f(_,"dlg-ok-cancel")}if(!m(_,"dlg-disable-footer")){var O=document.createElement("div");if(O.setAttribute("class","dlg-footer"),Y.appendChild(O),!m(_,"dlg-disable-btns")){if(m(_,"dlg-yes")||m(_,"dlg-yes-no")){var F=document.createElement("button");F.setAttribute("class","dlg-yes-btn");var $=document.createTextNode("Yes");F.appendChild($),O.appendChild(F)}if(m(_,"dlg-no")||m(_,"dlg-yes-no")){var K=document.createElement("button");K.setAttribute("class","dlg-no-btn");var j=document.createTextNode("No");K.appendChild(j),O.appendChild(K)}if(m(_,"dlg-ok")||m(_,"dlg-ok-cancel")){var G=document.createElement("button");G.setAttribute("class","dlg-ok-btn");var J=document.createTextNode("OK");G.appendChild(J),O.appendChild(G)}if(m(_,"dlg-cancel")||m(_,"dlg-ok-cancel")){var Q=document.createElement("button");Q.setAttribute("class","dlg-cancel-btn");var U=document.createTextNode("Cancel");Q.appendChild(U),O.appendChild(Q)}if(m(_,"dlg-close")||m(_,"dlg")){var Z=document.createElement("button");Z.setAttribute("class","dlg-close-btn");var ee=document.createTextNode("Close");Z.appendChild(ee),O.appendChild(Z)}}}r(window,"resize",(function(){L.bVisible&&y(L.id+"_1")}));var te=_.querySelector(".dlg-close-x");te&&r(te,"click",(function(){L.hide(0,!0),L.callback(0),L.nRetCode=0,L.onClose(),document.body.classList.contains("login-popup-show")&&document.body.classList.remove("login-popup-show")}));var ne=_.querySelector(".dlg-close-btn");if(ne&&r(ne,"click",(function(){L.hide(0,!0),L.callback(0),L.nRetCode=0,L.onClose()})),m(_,"dlg-disable-clickout")||r(_,"click",(function(e){c(e=e||window.event)===_&&(L.hide(0,!0),L.callback(0),L.nRetCode=0,L.onClose(),document.body.classList.contains("login-popup-show")&&document.body.classList.remove("login-popup-show"))})),m(_,"dlg-disable-esc")||r(document,"keyup",(function(e){(27===(e=e||window.event).which||27===e.keyCode||"Escape"===e.key||"Escape"===e.code)&&L.bVisible&&(L.hide(0,!0),L.callback(0),L.nRetCode=0,L.onClose())})),m(_,"dlg-yes-no")||m(_,"dlg-yes")||m(_,"dlg-no")){var ie=_.querySelector(".dlg-yes-btn");ie&&r(ie,"click",(function(){L.hide(0,!0),L.callback(1),L.nRetCode=1,L.onClose()}));var le=_.querySelector(".dlg-no-btn");le&&r(le,"click",(function(){L.hide(0,!0),L.callback(2),L.nRetCode=2,L.onClose()}))}if(m(_,"dlg-ok-cancel")||m(_,"dlg-ok")||m(_,"dlg-cancel")){var oe=_.querySelector(".dlg-ok-btn");oe&&r(oe,"click",(function(){L.hide(0,!0),L.callback(3),L.nRetCode=3,L.onClose()}));var de=_.querySelector(".dlg-cancel-btn");de&&r(de,"click",(function(){L.hide(0,!0),L.callback(4),L.nRetCode=4,L.onClose()}))}if(m(_,"dlg-prompt")){var se=_.querySelector(".dlg-input-field");se&&(r(se,"keyup",(function(){L.strInput=se.value})),r(se,"change",(function(){L.strInput=se.value})))}if(m(_,"dlg-disable-drag")||(B.init(Y.id),r(Y,"mouseenter",(function(){B.init(Y.id)})),r(Y,"mousedown",(function(){_.style.zIndex=d(w(_))}))),m(_,"dlg-resize")){P.init(Y.id),L.bResize=!0;var re=x(L.id,"#"+L.id+" .dlg-footer");re&&f(re[0],"dlg-footer-extra-padding"),r(Y,"mouseenter",(function(){P.init(Y.id)}))}return m(_,"dlg-prompt")&&_.querySelector(".dlg-input-field").focus(),L.bExistInDOM=!0,L.el=document.getElementById(L.id+"_1"),setTimeout((function(){L.onCreate()}),10),L}I||L.strTypeClass}return null},L=function(){for(var e=document.querySelectorAll(".dlg-opener"),t=0;t<e.length;t++){var n=document.getElementById(e[t].getAttribute("rel"));!function(){var i=I(n.getAttribute("id"),n.getAttribute("class"),n.getAttribute("title"),n.innerHTML,n.getAttribute("data-callback"),n.getAttribute("data-x"),n.getAttribute("data-y"),n.getAttribute("data-w"),n.getAttribute("data-h"));r(e[t],"click",(function(e){return e=e||window.event,i.show(),this.blur(),u(e),!1}))}()}return t},B={init:function(e){if(!0!==B.bActive){if(B.el=document.getElementById(e),null===B.el)return!1;B.el.handle=document.getElementById(e+"_heading"),null===B.el.handle&&(B.el.handle=B.el),B.el.style.position="absolute",r(B.el.handle,"mousedown",B.start)}},start:function(e){if(0===(e=e||window.event).button||window.attachEvent&&!window.addEventListener&&1===e.button){var t=c(e);"input"!==t.tagName.toLowerCase()&&"textarea"!==t.tagName.toLowerCase()&&"button"!==t.tagName.toLowerCase()&&"select"!==t.tagName.toLowerCase()&&(B.el.handle.style.cursor="move",B.el.posX2=e.clientX,B.el.posY2=e.clientY,r(document,"mouseup",B.stop),r(document,"mousemove",B.move),B.bActive=!0)}},stop:function(){B.el.handle.style.cursor="",a(document,"mouseup",B.stop),a(document,"mousemove",B.move),B.bActive=!1},move:function(e){e=e||window.event,B.el.posX=B.el.posX2-e.clientX,B.el.posY=B.el.posY2-e.clientY,B.el.posX2=e.clientX,B.el.posY2=e.clientY,B.el.style.top=d(B.el.offsetTop-B.el.posY)+"px",B.el.style.left=d(B.el.offsetLeft-B.el.posX)+"px";var t=v(B.el.id.split("_1")[0]);return t.yPos(d(B.el.style.top)),t.xPos(d(B.el.style.left)),u(e),!1}},P={init:function(e){if(!0!==P.bActive){P.el=document.getElementById(e),P.el.style.position="absolute";var t=document.createElement("div");P.el.appendChild(t),t.className="dlg-rh",t.innerHTML='<p class="dlg-rd1"></p><p class="dlg-rd2"></p><p class="dlg-rd3"></p><p class="dlg-rd4"></p><p class="dlg-rd5"></p><p class="dlg-rd6"></p>',r(t,"mousedown",P.start)}},start:function(e){return e=e||window.event,P.minWidth=d(p(P.el,"minWidth"))||100,P.minHeight=d(p(P.el,"minHeight"))||36,P.posX=e.clientX,P.posY=e.clientY,P.width=P.el.offsetWidth,P.height=P.el.offsetHeight,r(document,"mousemove",P.move),r(document,"mouseup",P.stop),P.bActive=!0,m(P.el.parentNode,"dlg-disable-heading")&&function(e){void 0!==e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(e),u(e),!1},stop:function(){a(document,"mousemove",P.move),a(document,"mouseup",P.stop),P.bActive=!1},move:function(e){e=e||window.event;var t=v(P.el.id.split("_1")[0]);return P.width+e.clientX-P.posX>=P.minWidth&&(P.el.style.maxWidth=d(P.width+e.clientX-P.posX)+"px",t.width(P.el.style.maxWidth)),P.height+e.clientY-P.posY>=P.minHeight&&(P.el.style.height=d(P.height+e.clientY-P.posY)+"px",t.height(P.el.style.height)),u(e),!1}};return r(window,"load",(function(){L()})),{create:function(e,t,n,i,l,o,d,s,r){return I(e,t,n,i,l,o,d,s,r)},getAll:function(){return t},getById:function(e){return v(e)},init:function(){return L()}}}();